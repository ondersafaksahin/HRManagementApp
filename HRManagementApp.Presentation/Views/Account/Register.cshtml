@using Microsoft.AspNetCore.Identity;
<style>

    input[type="submit"] {
        width: 100%;
        height: 50px;
        background: #2691d9;
        border-radius: 25px;
        font-size: 18px;
        color: #e9f4fb;
        font-weight: 700;
        cursor: pointer;
        outline: none;
        transition: 0.5s;
        border: none;
    }

        input[type="submit"]:hover {
            border-color: #2691d9;
        }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        background: #2980b9;
        height: 100vh;
    }
</style>


@model RegisterViewModel
@if (TempData["RegisterError"]!=null)
{
    <div class="alert alert-danger" role="alert">
        @TempData["RegisterError"]
    </div>
}

<div class="center">
    <h1>Register</h1>
    <form method="post">
        <div class="txt_field">
            <input type="text" asp-for="@Model.Email" required />
            <span></span>
            <label>E-mail</label>
        </div>
        <div class="txt_field">
            <input type="text" id="guid-input" asp-for="@Model.CompanyID" maxlength="36" required />
            <span></span>
            <label>Company Code</label>
        </div>
        <div class="txt_field">
            <input type="password" asp-for="@Model.Password1" required />
            <span></span>
            <label>Password</label>
        </div>
        <div class="txt_field">
            <input type="password" asp-for="@Model.Password2" required />
            <span></span>
            <label>Password Again</label>
        </div>
        <input type="submit" value="Register" />
        <div class="signup_link">Registered before? <a asp-action="Login">Login</a></div>
    </form>
</div>

<script>
    document.getElementById("guid-input").addEventListener("input", function () {
        var input = this;
        var value = input.value.replace(/-/g, "").replace(/\s/g, "");
        var formattedValue = "";

        for (var i = 0; i < value.length; i++) {
            if (i === 8 || i === 12 || i === 16 || i === 20) {
                formattedValue += "-";
            }
            formattedValue += value[i];
        }

        input.value = formattedValue;
    });
</script>
